<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="smdi">
<title>Routine structural missing data diagnostics • smdi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Routine structural missing data diagnostics">
<meta property="og:description" content="smdi">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">smdi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/smdi.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data_generation.html">Data generation</a>
    <a class="dropdown-item" href="../articles/routine_diagnostics.html">Routine structural missing data diagnostics</a>
    <a class="dropdown-item" href="../articles/multivariate_missingness.html">Multivariate missingness and monotonicity</a>
    <a class="dropdown-item" href="../articles/narfcs_sensitivity_analysis.html">NARFCS sensitivity analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Routine structural missing data diagnostics</h1>
                        <h4 data-toc-skip class="author">Janick
Weberpals</h4>
            
      
      
      <div class="d-none name"><code>routine_diagnostics.Rmd</code></div>
    </div>

    
    
<style>
p.comment {
background-color: #DBDBDB;
padding: 10px;
border: 1px solid black;
margin-left: 25px;
border-radius: 5px;
font-style: italic;
}
</style>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">smdi</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com/" class="external-link">gt</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="smdi-main-functionalities">
<code>smdi</code> main functionalities<a class="anchor" aria-label="anchor" href="#smdi-main-functionalities"></a>
</h2>
<p>The <code>smdi</code> flagship function is
<code><a href="../reference/smdi_diagnose.html">smdi_diagnose()</a></code> which calls multiple sub-functions which
are also accessible separately. This article aims to give an
introduction to missing covariate data diagnostics using the individual
<code>smdi</code> diagnostics function that all funnel into the main
function <code><a href="../reference/smdi_diagnose.html">smdi_diagnose()</a></code>.</p>
<div class="alert alert-info">
<p><strong>What is smdi about?</strong> Large-scale simulations revealed
characteristic patterns of the diagnostic parameters matched to missing
data structure based on three group diagnostics:</p>
</div>
<div class="figure">
<img src="smdi_diagnose_table.png" alt="Overview three group diagnostics" width="1615"><p class="caption">
Overview three group diagnostics
</p>
</div>
<div class="alert alert-info">
<p><strong>How can this be applied to inform a real-world database
study?</strong> The observed diagnostic patterns of a specific study
will give insights into the likelihood of underlying missingness
structures. This package enables researchers to create these three group
diagnostics for their own healthcare database analytics with little
effort. This is how an <strong>example</strong> could look like in a
real-world database study:</p>
</div>
<div class="figure">
<img src="smdi_examples.png" alt="Example of how `smdi` diagnostics can be applied to give insights into the likelihood of underlying missingness structures in a real-world database study." width="1498"><p class="caption">
Example of how <code>smdi</code> diagnostics can be applied to give
insights into the likelihood of underlying missingness structures in a
real-world database study.
</p>
</div>
<div class="section level3">
<h3 id="illustrative-dataset">Illustrative dataset<a class="anchor" aria-label="anchor" href="#illustrative-dataset"></a>
</h3>
<p>To illustrate the usage of the <code>smdi</code> package main
functions, we use the <code>smdi_data</code> dataset which is an example
dataset that comes bundled with the package and includes some ready to
use simulated partially observed covariates. If you prefer to simulate
missingness yourself, you can do so using the
<code>smdi_data_complete</code> dataset.</p>
<p>In brief, the <code>smdi_data</code> dataset consists of a simulated
lung cancer cohort with a fictional comparison of two antineoplastic
systemic therapy regimens and a time-to-event outcome. More information
on the underlying dataset is given in the previous <a href="https://janickweberpals.gitlab-pages.partners.org/smdi/articles/data_generation.html" class="external-link">Data
generation</a> article.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">smdi_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 2,500</span></span>
<span><span class="co">#&gt; Columns: 14</span></span>
<span><span class="co">#&gt; $ exposure      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 0,…</span></span>
<span><span class="co">#&gt; $ age_num       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 35.24, 51.18, 88.17, 50.79, 40.52, 64.57, 73.58, 42.38, …</span></span>
<span><span class="co">#&gt; $ female_cat    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1,…</span></span>
<span><span class="co">#&gt; $ smoking_cat   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1,…</span></span>
<span><span class="co">#&gt; $ physical_cat  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0,…</span></span>
<span><span class="co">#&gt; $ alk_cat       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</span></span>
<span><span class="co">#&gt; $ histology_cat <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0,…</span></span>
<span><span class="co">#&gt; $ ses_cat       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 2_middle, 3_high, 2_middle, 2_middle, 2_middle, 2_middle…</span></span>
<span><span class="co">#&gt; $ copd_cat      <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1,…</span></span>
<span><span class="co">#&gt; $ eventtime     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 5.000000000, 4.754220474, 0.253391563, 5.000000000, 5.00…</span></span>
<span><span class="co">#&gt; $ status        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1,…</span></span>
<span><span class="co">#&gt; $ ecog_cat      <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 1, NA, 0, 1, NA, 0, 1, 0, 1, NA, 1, NA, NA, 1, 1, 0, 1, …</span></span>
<span><span class="co">#&gt; $ egfr_cat      <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> NA, 0, 1, NA, 1, NA, NA, 0, NA, 0, 1, NA, 0, NA, NA, 0, …</span></span>
<span><span class="co">#&gt; $ pdl1_num      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 45.03, NA, 41.74, 45.51, 31.28, NA, 47.28, 37.28, 46.47,…</span></span></code></pre></div>
<p>The dataset consists of 2,500 patients and 14 variables with
<code>exposure</code> representing the two treatment regimens under
comparison and <code>status</code> and <code>eventtime</code> the vital
status and censoring time, respectively. For more information, please
checkout:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># dataset with simulated missingness</span></span>
<span><span class="op">?</span><span class="fu">smdi</span><span class="fu">::</span><span class="fu"><a href="../reference/smdi_data.html">smdi_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># complete dataset</span></span>
<span><span class="op">?</span><span class="fu">smdi</span><span class="fu">::</span><span class="fu"><a href="../reference/smdi_data_complete.html">smdi_data_complete</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="descriptives">Descriptives<a class="anchor" aria-label="anchor" href="#descriptives"></a>
</h3>
<div class="section level4">
<h4 id="missingness-proportions">Missingness proportions<a class="anchor" aria-label="anchor" href="#missingness-proportions"></a>
</h4>
<p>As with basically any first step into exploring (new) datasets, it’s
a good idea to get an overview of partially observed covariates and the
magnitude of missingness. For this <code>smdi</code> comes with two
convenient functions to screen the data for missingness.</p>
<p>This can be either as a table …</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">smdi_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/smdi_summarize.html">smdi_summarize</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 4</span></span></span>
<span><span class="co">#&gt;   covariate n_miss prop_miss prop_miss_label</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> egfr_cat    <span style="text-decoration: underline;">1</span>015      40.6 40.60%         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> ecog_cat     899      36.0 35.96%         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> pdl1_num     517      20.7 20.68%</span></span></code></pre></div>
<p>… or visually</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covars_missing</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smdi_summarize.html">smdi_summarize</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">smdi_data</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">covariate</span><span class="op">)</span></span>
<span></span>
<span><span class="va">smdi_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/smdi_vis.html">smdi_vis</a></span><span class="op">(</span>covar <span class="op">=</span> <span class="va">covars_missing</span><span class="op">)</span></span></code></pre></div>
<p><img src="routine_diagnostics_files/figure-html/unnamed-chunk-5-1.png" width="900"></p>
<p>The plot also provides flexibility to stratify, e.g. by
<code>exposure</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">smdi_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/smdi_vis.html">smdi_vis</a></span><span class="op">(</span>covar <span class="op">=</span> <span class="va">covars_missing</span>, strata <span class="op">=</span> <span class="st">"exposure"</span><span class="op">)</span></span></code></pre></div>
<p><img src="routine_diagnostics_files/figure-html/unnamed-chunk-6-1.png" width="900"></p>
</div>
<div class="section level4">
<h4 class="tabset" id="missingness-patterns">Missingness patterns<a class="anchor" aria-label="anchor" href="#missingness-patterns"></a>
</h4>
<p>Besides describing the proportion missingness by covariate (and
potentially stratified by another variable), it is also of great
importance to check the missingness patterns. This can give important
hints if the missingness in two or more partially observed covariates
may follow a monotone or non-monotone missingness pattern. If former is
the case, one should be careful and potentially run the below-described
<code>smdi</code> diagnostics variable-by-variable instead of
jointly.</p>
<blockquote>
<p>We recommend checking both missingness proportions and patterns as a
first step. In case of monotonocity, the <code>smdi</code> package may
likely culminate in misleading results. Please check the <a href="https://janickweberpals.gitlab-pages.partners.org/smdi/articles/multivariate_missingness.html" class="external-link">article
on multivariate missingness and monotonicity</a>.</p>
</blockquote>
<p>To check missingness patterns, the <code>smdi</code> comes with
re-exports of the <code><a href="https://rdrr.io/pkg/naniar/man/gg_miss_upset.html" class="external-link">naniar::gg_miss_upset</a></code> and
<code><a href="https://amices.org/mice/reference/md.pattern.html" class="external-link">mice::md.pattern</a></code> functions.</p>
<div class="section level5">
<h5 id="upset-plot">Upset plot<a class="anchor" aria-label="anchor" href="#upset-plot"></a>
</h5>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">smdi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/naniar/man/gg_miss_upset.html" class="external-link">gg_miss_upset</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">smdi_data</span><span class="op">)</span></span></code></pre></div>
<p><img src="routine_diagnostics_files/figure-html/unnamed-chunk-7-1.png" width="900"></p>
<p>The upset plot and the pattern matrix show that only a small fraction
of observations (N = 97) is missing in all the partially observed
covariates at the same. A non-monotone missingness pattern is
consequently more likely than a monotone one.</p>
</div>
<div class="section level5">
<h5 id="pattern-matrix">Pattern matrix<a class="anchor" aria-label="anchor" href="#pattern-matrix"></a>
</h5>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">smdi</span><span class="fu">::</span><span class="fu"><a href="https://amices.org/mice/reference/md.pattern.html" class="external-link">md.pattern</a></span><span class="op">(</span><span class="va">smdi_data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">covars_missing</span><span class="op">)</span><span class="op">]</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;     pdl1_num ecog_cat egfr_cat     </span></span>
<span><span class="co">#&gt; 795        1        1        1    0</span></span>
<span><span class="co">#&gt; 479        1        1        0    1</span></span>
<span><span class="co">#&gt; 446        1        0        1    1</span></span>
<span><span class="co">#&gt; 263        1        0        0    2</span></span>
<span><span class="co">#&gt; 151        0        1        1    1</span></span>
<span><span class="co">#&gt; 176        0        1        0    2</span></span>
<span><span class="co">#&gt; 93         0        0        1    2</span></span>
<span><span class="co">#&gt; 97         0        0        0    3</span></span>
<span><span class="co">#&gt;          517      899     1015 2431</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="before-we-are-getting-started-data-format">Before we are getting started: data format<a class="anchor" aria-label="anchor" href="#before-we-are-getting-started-data-format"></a>
</h3>
<p>Generally, the dataframe(s) used for <code>smdi</code> (defined as
the <code>data</code> parameter in all functions) should consist of the
partially observed covariates, other relevant observed covariates as
well as the the exposure and outcome variables. Avoid having
meta-variables such as e.g. ID variables, dates and zip codes in your
dataframe as all present columns in your dataframe will be used to make
inferences about potential missing data mechanisms.</p>
</div>
<div class="section level3">
<h3 id="group-1-diagnostics-differences-in-covariate-distributions">Group 1 diagnostics: differences in covariate distributions<a class="anchor" aria-label="anchor" href="#group-1-diagnostics-differences-in-covariate-distributions"></a>
</h3>
<div class="section level4">
<h4 id="medianaverage-absolute-standardized-mean-differences">Median/average absolute standardized mean differences<a class="anchor" aria-label="anchor" href="#medianaverage-absolute-standardized-mean-differences"></a>
</h4>
<p>As discussed in the documentation of the <code>smdi_asmd</code> and
<code>smdi_hotelling</code>, the median/average standardized mean
difference (asmd) may be one indicator as to how much patient
characteristics differ between patients with and without an observed
value for a partially observed covariate. If the median/average asmd is
above a certain threshold this may indicate imbalance in patient
covariate distributions which may be indicative of the partially
observed covariate following a missing at random (MAR) mechanims,
i.e. the missingness is explainable by other observed covariates.
Similarly, no imbalance between observed covariates may be indicative
that missingness cannot be explained with observed covariates and the
underlying missingness mechanism may be completely at random (MCAR) or
not at random (e.g. missingness is only associated with unobserved
factors or through the partially observed covariate itself).</p>
<p>To get an idea about the asmd for our partially observed covariates
we can run the <code>smdi_asmd</code> function. We are ok with the
default parameters (i.e. we let the function investigate all covariates
with at least one NA [covar = NULL], compute the median asmd [median =
TRUE] and don’t explicitly model the missingness of other partially
observed covariates [includeNA = FALSE]).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">asmd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smdi_asmd.html">smdi_asmd</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">smdi_data</span><span class="op">)</span></span></code></pre></div>
<p>The output returns an <em>asmd</em> object that contains a lot of
information in the following structure that can be accessed using the
“$” operator:</p>
<ul>
<li>asmd
<ul>
<li>covar
<ul>
<li>covariate modeled</li>
<li>complete table 1</li>
<li>asmd plot</li>
<li>aggregate median/average asmd</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Here is an example of <code>egfr_cat</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">asmd</span><span class="op">$</span><span class="va">egfr_cat</span><span class="op">$</span><span class="va">asmd_table1</span></span>
<span><span class="co">#&gt;                        Stratified by egfr_cat_NA</span></span>
<span><span class="co">#&gt;                         0               1               p        test SMD     </span></span>
<span><span class="co">#&gt;   n                     " 1485"         " 1015"         ""       ""   ""      </span></span>
<span><span class="co">#&gt;   exposure (mean (SD))  " 0.32 (0.47)"  " 0.51 (0.50)"  "&lt;0.001" ""   " 0.393"</span></span>
<span><span class="co">#&gt;   age_num (mean (SD))   "60.44 (13.80)" "61.58 (14.61)" " 0.048" ""   " 0.080"</span></span>
<span><span class="co">#&gt;   female_cat = 1 (%)    "  457 (30.8) " "  465 (45.8) " "&lt;0.001" ""   " 0.313"</span></span>
<span><span class="co">#&gt;   smoking_cat = 1 (%)   "  608 (40.9) " "  645 (63.5) " "&lt;0.001" ""   " 0.465"</span></span>
<span><span class="co">#&gt;   physical_cat = 1 (%)  "  454 (30.6) " "  428 (42.2) " "&lt;0.001" ""   " 0.243"</span></span>
<span><span class="co">#&gt;   alk_cat = 1 (%)       "   27 ( 1.8) " "   42 ( 4.1) " " 0.001" ""   " 0.137"</span></span>
<span><span class="co">#&gt;   histology_cat = 1 (%) "  225 (15.2) " "  283 (27.9) " "&lt;0.001" ""   " 0.314"</span></span>
<span><span class="co">#&gt;   ses_cat (%)           "  "            "  "            " 0.039" ""   " 0.103"</span></span>
<span><span class="co">#&gt;      1_low              "  287 (19.3) " "  237 (23.3) " ""       ""   ""      </span></span>
<span><span class="co">#&gt;      2_middle           "  596 (40.1) " "  373 (36.7) " ""       ""   ""      </span></span>
<span><span class="co">#&gt;      3_high             "  602 (40.5) " "  405 (39.9) " ""       ""   ""      </span></span>
<span><span class="co">#&gt;   copd_cat = 1 (%)      "  661 (44.5) " "  677 (66.7) " "&lt;0.001" ""   " 0.458"</span></span>
<span><span class="co">#&gt;   eventtime (mean (SD)) " 2.17 (1.86)"  " 2.15 (1.76)"  " 0.816" ""   " 0.010"</span></span>
<span><span class="co">#&gt;   status (mean (SD))    " 0.79 (0.41)"  " 0.84 (0.37)"  " 0.001" ""   " 0.132"</span></span>
<span><span class="co">#&gt;   ecog_cat = 1 (%)      "  539 (57.0) " "  433 (66.1) " "&lt;0.001" ""   " 0.189"</span></span>
<span><span class="co">#&gt;   pdl1_num (mean (SD))  "44.07 (10.37)" "49.33 (11.31)" "&lt;0.001" ""   " 0.485"</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">asmd</span><span class="op">$</span><span class="va">egfr_cat</span><span class="op">$</span><span class="va">asmd_plot</span></span></code></pre></div>
<p><img src="routine_diagnostics_files/figure-html/unnamed-chunk-11-1.png" width="900"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">asmd</span><span class="op">$</span><span class="va">egfr_cat</span><span class="op">$</span><span class="va">asmd_aggregate</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 4</span></span></span>
<span><span class="co">#&gt;   covariate asmd_median asmd_min asmd_max</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> egfr_cat  0.243       0.010    0.485</span></span></code></pre></div>
<p>To limit the output, we can use the generic <code>print</code> or
<code>summary</code> output of the object which returns a summary table
of the aggregate median/average asmd per covariate.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">asmd</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 4</span></span></span>
<span><span class="co">#&gt;   covariate asmd_median asmd_min asmd_max</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> ecog_cat  0.029       0.003    0.071   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> egfr_cat  0.243       0.010    0.485   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> pdl1_num  0.062       0.019    0.338</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="hotellings-and-littles-hypothesis-tests">Hotelling’s and Little’s hypothesis tests<a class="anchor" aria-label="anchor" href="#hotellings-and-littles-hypothesis-tests"></a>
</h4>
<div class="section level5">
<h5 id="hotteling">Hotteling<a class="anchor" aria-label="anchor" href="#hotteling"></a>
</h5>
<p>The <code>smdi_hotelling</code> function follows the same logic, but
is a formal hypothesis test for the difference in covariate
distributions based on a multivariate student t-test.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;&lt;a href=&quot;https://www.semanticscholar.org/paper/The-Generalization-of-Student%E2%80%99s-Ratio-Hotelling/23efca695ccca0924211f711adc862ea857449f2&quot; class=&quot;external-link&quot;&gt;Hotelling
H. The Generalization of Student's Ratio. Ann Math Stat.
1931;2(3):360-378. doi:10.1214/aoms/1177732979&lt;/a&gt;&lt;/p&gt;"><sup>1</sup></a> The output (a
hotteling object) follows the same structure as above. It’s important to
remember that the power of statistical hypothesis tests can be
influenced by sample size, so the combined investigation along with
<code><a href="../reference/smdi_asmd.html">smdi_asmd()</a></code> is highly recommended.</p>
<ul>
<li>hotelling
<ul>
<li>covar
<ul>
<li>Hotelling test statistics</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smdi_hotelling.html">smdi_hotelling</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">smdi_data</span><span class="op">)</span></span>
<span><span class="va">h0</span></span>
<span><span class="co">#&gt;   covariate hotteling_p</span></span>
<span><span class="co">#&gt; 1  ecog_cat       0.783</span></span>
<span><span class="co">#&gt; 2  egfr_cat       &lt;.001</span></span>
<span><span class="co">#&gt; 3  pdl1_num       &lt;.001</span></span></code></pre></div>
<p>More details can be accessed for each covariate.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h0</span><span class="op">$</span><span class="va">ecog_cat</span></span>
<span><span class="co">#&gt; Test stat:  9.7519 </span></span>
<span><span class="co">#&gt; Numerator df:  14 </span></span>
<span><span class="co">#&gt; Denominator df:  2485 </span></span>
<span><span class="co">#&gt; P-value:  0.7834</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="little">Little<a class="anchor" aria-label="anchor" href="#little"></a>
</h5>
<p>Little proposes a single global test statistic for MCAR that uses all
of the available data.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;&lt;a href="https://www.tandfonline.com/doi/abs/10.1080/01621459.1988.10478722" class="external-link"&gt;Little
RJA. A Test of Missing Completely at Random for Multivariate Data with
Missing Values. J Am Stat Assoc. 1988;83(404):1198-1202.
doi:10.1080/01621459.1988.10478722&lt;/a&gt;&lt;/p&gt;'><sup>2</sup></a> Hence, the <code>smdi_little</code> does
not return one test statistic per partially observed covariate but one
globally for the entire dataset.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h0_global</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smdi_little.html">smdi_little</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">smdi_data</span><span class="op">)</span></span>
<span><span class="va">h0_global</span></span>
<span><span class="co">#&gt; $statistic</span></span>
<span><span class="co">#&gt; [1] 801.0009</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $df</span></span>
<span><span class="co">#&gt; [1] 86</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $p.value</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $missing.patterns</span></span>
<span><span class="co">#&gt; [1] 8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "little"</span></span>
<span><span class="co">#&gt; attr(,"row.names")</span></span>
<span><span class="co">#&gt; [1] 1</span></span></code></pre></div>
<blockquote>
<p>CAVE: Hotelling’s and Little’s show high susceptibility with large
sample sizes and it is recommended to always interpret the results along
with the other diagnostics.</p>
</blockquote>
</div>
</div>
</div>
<div class="section level3">
<h3 id="group-2-diagnostics-ability-to-predict-missingness">Group 2 diagnostics: ability to predict missingness<a class="anchor" aria-label="anchor" href="#group-2-diagnostics-ability-to-predict-missingness"></a>
</h3>
<p>Since MAR mechanisms are defined as the missingness being a function
of observed covariates, MAR may be predictable and evaluable by fitting
a classification model e.g. random forest, which would yield moderate to
high area under the curve (AUC) values in the case of MAR.</p>
<p>The <code>smdi_rf</code> function trains and fits a random forest
model to assess the ability to predict missingness for the specified
covariate(s). If missing indicator can be predicted as a function of
observed covariates.</p>
<p>CAVE: Depending on the amount of data (sample size x covariates), the
computation of the function can take some minutes.</p>
<p>The structure of the output again follows the general schema.</p>
<ul>
<li>rf
<ul>
<li>covar
<ul>
<li>rf_table (AUC)</li>
<li>rf_plot (variable importance)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">auc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smdi_rf.html">smdi_rf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">smdi_data</span><span class="op">)</span></span>
<span><span class="va">auc</span><span class="op">$</span><span class="va">ecog_cat</span><span class="op">$</span><span class="va">rf_table</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   covariate rf_auc</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> ecog_cat  0.510</span></span>
<span><span class="va">auc</span><span class="op">$</span><span class="va">ecog_cat</span><span class="op">$</span><span class="va">rf_plot</span></span></code></pre></div>
<p><img src="routine_diagnostics_files/figure-html/unnamed-chunk-17-1.png" width="900"></p>
<blockquote>
<p>CAVE: If the missingness indicator variables of other partially
observed covariates (indicated by suffix _NA) have an extremely high
variable importance (combined with an unusually high AUC), this might be
an indicator of a monotone missing data pattern. That is, the
missingness in one covariate is highly predictive of the missingness of
another partially observed covariate. In this case it is advisable to
exclude other partially observed covariates and run missingness
diagnostics separately. This can be checked, e.g. with the
<code><a href="https://amices.org/mice/reference/md.pattern.html" class="external-link">mice::md.pattern()</a></code> function (<code>mice</code>
package).</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="group-3-diagnostics-association-between-missingness-and-outcome">Group 3 diagnostics: association between missingness and
outcome<a class="anchor" aria-label="anchor" href="#group-3-diagnostics-association-between-missingness-and-outcome"></a>
</h3>
<p>The group 3 diagnostic focuses on assessing the association between
the missing indicator of the partially observed covar and the outcome
under study. This may reveal important covariate relationships with the
outcome and could give additional pieces of information.</p>
<p>Currently, the main types of outcome regressions are supported,
namely logistic (<em>glm</em>), linear (<em>lm</em>) and Cox
proportional hazards (<em>survival</em>) models are supported and need
to be specified using the model and form_lhs. For more details, see the
<code>smdi_outcome</code> function documentation via</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="fu">smdi</span><span class="fu">::</span><span class="fu"><a href="../reference/smdi_outcome.html">smdi_outcome</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The output of <code>smdi_outcome</code> returns a table of the crude
and adjusted beta coefficients and 95% confidence intervals for all
covar.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/smdi_outcome.html">smdi_outcome</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">smdi_data</span>, </span>
<span>  model <span class="op">=</span> <span class="st">"cox"</span>,</span>
<span>  form_lhs <span class="op">=</span> <span class="st">"Surv(eventtime, status)"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">#&gt;   covariate estimate_crude             estimate_adjusted         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;glue&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;glue&gt;</span>                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> ecog_cat  -0.06 (95% CI -0.16, 0.03) -0.06 (95% CI -0.16, 0.03)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> egfr_cat  0.06 (95% CI -0.03, 0.15)  -0.01 (95% CI -0.10, 0.09)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> pdl1_num  0.12 (95% CI 0.01, 0.23)   0.11 (95% CI -0.00, 0.22)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="smdi_diagnose---one-function-to-rule-them-all">
<code>smdi_diagnose()</code> - one function to rule them all<a class="anchor" aria-label="anchor" href="#smdi_diagnose---one-function-to-rule-them-all"></a>
</h2>
<p>Finally, all of the functions above funnel into
<code><a href="../reference/smdi_diagnose.html">smdi_diagnose()</a></code> which outputs an smdi object including a
summary table of all three smdi group diagnostics and little’s global
p-value statistic. If details of the individual functions above are
needed, this method may not be preferable but is a convenient way to
implement routine structural missing covariate diagnostics by calling a
single function.</p>
<p>Note that all parameters of the individual functions that make up
<code><a href="../reference/smdi_diagnose.html">smdi_diagnose()</a></code> can be specified and will be passed on but
only the required parameter must be specified. A most minimal example
could look like this.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">diagnostics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smdi_diagnose.html">smdi_diagnose</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">smdi_data</span>,</span>
<span>  covar <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># NULL includes all covariates with at least one NA</span></span>
<span>  model <span class="op">=</span> <span class="st">"cox"</span>,</span>
<span>  form_lhs <span class="op">=</span> <span class="st">"Surv(eventtime, status)"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>The output returns two parts: the <code>smdi_tbl</code> which can be
called using the <code>$</code> operator and looks like this</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">diagnostics</span><span class="op">$</span><span class="va">smdi_tbl</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 6</span></span></span>
<span><span class="co">#&gt;   covariate asmd_median_min_max  hotteling_p rf_auc estimate_crude       estim…¹</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;glue&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;glue&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> ecog_cat  0.029 (0.003, 0.071) 0.783       0.510  -0.06 (95% CI -0.16… -0.06 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> egfr_cat  0.243 (0.010, 0.485) &lt;.001       0.629  0.06 (95% CI -0.03,… -0.01 …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> pdl1_num  0.062 (0.019, 0.338) &lt;.001       0.516  0.12 (95% CI 0.01, … 0.11 (…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable name ¹​estimate_adjusted</span></span></span></code></pre></div>
<p>… and the p-value of the global Little’s test statistic:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">diagnostics</span><span class="op">$</span><span class="va">p_little</span></span>
<span><span class="co">#&gt; p_little: &lt;.001</span></span></code></pre></div>
<div class="section level3">
<h3 id="publication-ready-gt-style-table">Publication-ready <code>gt</code>-style table<a class="anchor" aria-label="anchor" href="#publication-ready-gt-style-table"></a>
</h3>
<p>For a nicely formatted and publication-ready output we can
subsequently use the <code>smdi_diagnose</code> output and feed it into
the <code>smdi_gt_style()</code> function:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com/" class="external-link">gt</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/smdi_style_gt.html">smdi_style_gt</a></span><span class="op">(</span><span class="va">diagnostics</span><span class="op">)</span></span></code></pre></div>
<div id="fdfhrsppch" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#fdfhrsppch .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 13px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 800px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fdfhrsppch .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fdfhrsppch .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fdfhrsppch .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fdfhrsppch .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fdfhrsppch .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fdfhrsppch .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fdfhrsppch .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fdfhrsppch .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fdfhrsppch .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fdfhrsppch .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fdfhrsppch .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fdfhrsppch .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fdfhrsppch .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fdfhrsppch .gt_from_md > :first-child {
  margin-top: 0;
}

#fdfhrsppch .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fdfhrsppch .gt_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fdfhrsppch .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fdfhrsppch .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fdfhrsppch .gt_row_group_first td {
  border-top-width: 2px;
}

#fdfhrsppch .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fdfhrsppch .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fdfhrsppch .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fdfhrsppch .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fdfhrsppch .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fdfhrsppch .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fdfhrsppch .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fdfhrsppch .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fdfhrsppch .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fdfhrsppch .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fdfhrsppch .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fdfhrsppch .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fdfhrsppch .gt_left {
  text-align: left;
}

#fdfhrsppch .gt_center {
  text-align: center;
}

#fdfhrsppch .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fdfhrsppch .gt_font_normal {
  font-weight: normal;
}

#fdfhrsppch .gt_font_bold {
  font-weight: bold;
}

#fdfhrsppch .gt_font_italic {
  font-style: italic;
}

#fdfhrsppch .gt_super {
  font-size: 65%;
}

#fdfhrsppch .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#fdfhrsppch .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fdfhrsppch .gt_indent_1 {
  text-indent: 5px;
}

#fdfhrsppch .gt_indent_2 {
  text-indent: 10px;
}

#fdfhrsppch .gt_indent_3 {
  text-indent: 15px;
}

#fdfhrsppch .gt_indent_4 {
  text-indent: 20px;
}

#fdfhrsppch .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Covariate">Covariate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id='ASMD (min/max)&lt;sup class="gt_footnote_marks"&gt;1&lt;/sup&gt;'>ASMD (min/max)<sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id='p Hotelling&lt;sup class="gt_footnote_marks"&gt;1&lt;/sup&gt;'>p Hotelling<sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id='AUC&lt;sup class="gt_footnote_marks"&gt;2&lt;/sup&gt;'>AUC<sup class="gt_footnote_marks">2</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id='β crude (95% CI)&lt;sup class="gt_footnote_marks"&gt;3&lt;/sup&gt;'>β crude (95% CI)<sup class="gt_footnote_marks">3</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id='β (95% CI)&lt;sup class="gt_footnote_marks"&gt;3&lt;/sup&gt;'>β (95% CI)<sup class="gt_footnote_marks">3</sup>
</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="covariate" class="gt_row gt_left">ecog_cat</td>
<td headers="asmd_median_min_max" class="gt_row gt_left">0.029 (0.003, 0.071)</td>
<td headers="hotteling_p" class="gt_row gt_left">0.783</td>
<td headers="rf_auc" class="gt_row gt_left">0.510</td>
<td headers="estimate_crude" class="gt_row gt_left">-0.06 (95% CI -0.16, 0.03)</td>
<td headers="estimate_adjusted" class="gt_row gt_left">-0.06 (95% CI -0.16, 0.03)</td>
</tr>
<tr>
<td headers="covariate" class="gt_row gt_left">egfr_cat</td>
<td headers="asmd_median_min_max" class="gt_row gt_left">0.243 (0.010, 0.485)</td>
<td headers="hotteling_p" class="gt_row gt_left">&lt;.001</td>
<td headers="rf_auc" class="gt_row gt_left">0.629</td>
<td headers="estimate_crude" class="gt_row gt_left">0.06 (95% CI -0.03, 0.15)</td>
<td headers="estimate_adjusted" class="gt_row gt_left">-0.01 (95% CI -0.10, 0.09)</td>
</tr>
<tr>
<td headers="covariate" class="gt_row gt_left">pdl1_num</td>
<td headers="asmd_median_min_max" class="gt_row gt_left">0.062 (0.019, 0.338)</td>
<td headers="hotteling_p" class="gt_row gt_left">&lt;.001</td>
<td headers="rf_auc" class="gt_row gt_left">0.516</td>
<td headers="estimate_crude" class="gt_row gt_left">0.12 (95% CI 0.01, 0.23)</td>
<td headers="estimate_adjusted" class="gt_row gt_left">0.11 (95% CI -0.00, 0.22)</td>
</tr>
</tbody>
<tfoot class="gt_footnotes">
<tr>
<td class="gt_footnote" colspan="6"> p little: &lt;.001,  Abbreviations: ASMD = Median absolute standardized mean difference across all covariates, AUC = Area under the curve, β = beta coefficient, CI = Confidence interval, max = Maximum, min = Minimum</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="6">
<sup class="gt_footnote_marks">1</sup> Group 1 diagnostic: Differences in patient characteristics between patients with and without covariate</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="6">
<sup class="gt_footnote_marks">2</sup> Group 2 diagnostic: Ability to predict missingness</td>
    </tr>
<tr>
<td class="gt_footnote" colspan="6">
<sup class="gt_footnote_marks">3</sup> Group 3 diagnostic: Assessment if missingness is associated with the outcome (crude, adjusted)</td>
    </tr>
</tfoot>
</table>
</div>
<div class="section level4">
<h4 id="smdi-table-export">smdi table export<a class="anchor" aria-label="anchor" href="#smdi-table-export"></a>
</h4>
<p>To make this even more convenient, <code>gt</code> offers a
functionality to export the table in different formats,
e.g. <code>.docx</code>, <code>.png</code>, <code>.pdf</code> or
<code>.rtf</code>:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://gt.rstudio.com/reference/gtsave.html" class="external-link">gtsave</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu"><a href="../reference/smdi_style_gt.html">smdi_style_gt</a></span><span class="op">(</span><span class="va">diagnostics</span><span class="op">)</span>,</span>
<span>  filename <span class="op">=</span> <span class="st">"smdi_table.docx"</span>, <span class="co"># name of the final .docx file</span></span>
<span>  path <span class="op">=</span> <span class="st">"."</span> <span class="co"># path where the file should be stored</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Janick Weberpals.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
